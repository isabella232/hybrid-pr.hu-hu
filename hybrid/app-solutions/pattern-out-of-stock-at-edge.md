---
title: Készleten nem volt észlelve az Azure és a Azure Stack Edge
description: Megtudhatja, hogyan használhatja az Azure-t Azure Stack Edge a készleten nem használt észlelés megvalósításához.
author: BryanLa
ms.topic: article
ms.date: 05/24/2021
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 05/24/2021
ms.openlocfilehash: b25a6391c4e64fa7018031bac4fb7d098c56b529
ms.sourcegitcommit: cf2c4033d1b169f5b63980ce1865281366905e2e
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 05/25/2021
ms.locfileid: "110343875"
---
# <a name="out-of-stock-detection-at-the-edge-pattern"></a><span data-ttu-id="b2ae6-103">Készleten nem található a peremhálózati minta</span><span class="sxs-lookup"><span data-stu-id="b2ae6-103">Out of stock detection at the edge pattern</span></span>

<span data-ttu-id="b2ae6-104">Ez a minta azt mutatja be, hogyan állapítható meg, hogy a polcokon nincs-e készleten lévő tétel egy Azure Stack Edge vagy Azure IoT Edge és hálózati kamerával.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-104">This pattern illustrates how to determine if shelves have out of stock items using an Azure Stack Edge or Azure IoT Edge device and network cameras.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="b2ae6-105">Kontextus és probléma</span><span class="sxs-lookup"><span data-stu-id="b2ae6-105">Context and problem</span></span>

<span data-ttu-id="b2ae6-106">A fizikai kiskereskedelmi üzletek elveszítik az értékesítést, mert amikor az ügyfelek egy terméket keresnek, az nem található meg a polcon.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-106">Physical retail stores lose sales because when customers look for an item, it's not present on the shelf.</span></span> <span data-ttu-id="b2ae6-107">Előfordulhat azonban, hogy az elem az üzlet háta mögött van, és nem lett újra készletre hozva.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-107">However, the item could have been in the back of the store and not been restocked.</span></span> <span data-ttu-id="b2ae6-108">Az üzletek szeretnék hatékonyabban használni a személyzetet, és automatikusan értesítést kapni, ha az elemeket újra kell behozni.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-108">Stores would like to use their staff more efficiently and get automatically notified when items need restocking.</span></span>

## <a name="solution"></a><span data-ttu-id="b2ae6-109">Megoldás</span><span class="sxs-lookup"><span data-stu-id="b2ae6-109">Solution</span></span>

<span data-ttu-id="b2ae6-110">A megoldás példájában egy peremhálózati eszközt, például egy Azure Stack Edge használ az egyes áruházakban, amely hatékonyan dolgozza fel az áruházban található kamerák adatait.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-110">The solution example uses an edge device, like an Azure Stack Edge in each store, which efficiently processes data from cameras in the store.</span></span> <span data-ttu-id="b2ae6-111">Ez az optimalizált kialakítás lehetővé teszi, hogy a tárolók csak a releváns eseményeket és rendszerképeket küldjék a felhőbe.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-111">This optimized design lets stores send only relevant events and images to the cloud.</span></span> <span data-ttu-id="b2ae6-112">A kialakítás sávszélességet és tárhelyet takarít meg, és gondoskodik az ügyfelek adatainak védelméről.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-112">The design saves bandwidth, storage space, and ensures customer privacy.</span></span> <span data-ttu-id="b2ae6-113">Ahogy a képkockákat beolvassa az egyes kamerákból, az ML-modell feldolgozza a képet, és visszaadja a készletből származó területeket.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-113">As frames are read from each camera, an ML model processes the image and returns any out of stock areas.</span></span> <span data-ttu-id="b2ae6-114">A kép és a készleten nem található területek jelennek meg egy helyi webalkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-114">The image and out of stock areas are displayed on a local web app.</span></span> <span data-ttu-id="b2ae6-115">Az adatokat elküldheti egy Time Series Insights-környezetbe, hogy elemzéseket mutasson a Power BI.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-115">This data can be sent to a Time Series Insight environment to show insights in Power BI.</span></span>

![Készleten nem található a peremhálózati megoldás architektúrája](media/pattern-out-of-stock-at-edge/solution-architecture.png)

<span data-ttu-id="b2ae6-117">A megoldás működése a következő:</span><span class="sxs-lookup"><span data-stu-id="b2ae6-117">Here's how the solution works:</span></span>

1. <span data-ttu-id="b2ae6-118">A képek egy hálózati kamerából vannak rögzítettek HTTP- vagy RTSP-kapcsolaton keresztül.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-118">Images are captured from a network camera over HTTP or RTSP.</span></span>
2. <span data-ttu-id="b2ae6-119">A rendszer átméretezi a képet, és elküldi a következtetési illesztőnek, amely kommunikál az ML-modellel annak megállapításához, hogy nincsenek-e készleten a képek.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-119">The image is resized and sent to the inference driver, which communicates with the ML model to determine if there are any out of stock images.</span></span>
3. <span data-ttu-id="b2ae6-120">Az ML-modell a készleten nem található területeket adja vissza.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-120">The ML model returns any out of stock areas.</span></span>
4. <span data-ttu-id="b2ae6-121">A következtetési illesztőprogram feltölti a nyers képet egy blobba (ha meg van adva), és elküldi az eredményeket a modellből az Azure IoT Hub-nek és egy határolókeret-feldolgozónak az eszközön.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-121">The inferencing driver uploads the raw image to a blob (if specified), and sends the results from the model to Azure IoT Hub and a bounding box processor on the device.</span></span>
5. <span data-ttu-id="b2ae6-122">A határolókeret-feldolgozó határolókereteket ad a képhez, és gyorsítótárazza a kép elérési útját egy memória-adatbázisban.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-122">The bounding box processor adds bounding boxes to the image and caches the image path in an in-memory database.</span></span>
6. <span data-ttu-id="b2ae6-123">A webalkalmazás lekérdezi a rendszerképeket, és a kapott sorrendben jeleníti meg őket.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-123">The web app queries for images and shows them in the order received.</span></span>
7. <span data-ttu-id="b2ae6-124">A rendszer IoT Hub összesíti az üzeneteket a Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-124">Messages from IoT Hub are aggregated in Time Series Insights.</span></span>
8. <span data-ttu-id="b2ae6-125">Power BI egy interaktív jelentést jelenít meg a készleten lévő termékekről az idő alatt, a készleten lévő Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-125">Power BI displays an interactive report of out of stock items over time with the data from Time Series Insights.</span></span>


## <a name="components"></a><span data-ttu-id="b2ae6-126">Összetevők</span><span class="sxs-lookup"><span data-stu-id="b2ae6-126">Components</span></span>

<span data-ttu-id="b2ae6-127">Ez a megoldás a következő összetevőket használja:</span><span class="sxs-lookup"><span data-stu-id="b2ae6-127">This solution uses the following components:</span></span>

| <span data-ttu-id="b2ae6-128">Réteg</span><span class="sxs-lookup"><span data-stu-id="b2ae6-128">Layer</span></span> | <span data-ttu-id="b2ae6-129">Összetevő</span><span class="sxs-lookup"><span data-stu-id="b2ae6-129">Component</span></span> | <span data-ttu-id="b2ae6-130">Leírás</span><span class="sxs-lookup"><span data-stu-id="b2ae6-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="b2ae6-131">Helyszíni hardver</span><span class="sxs-lookup"><span data-stu-id="b2ae6-131">On-premises hardware</span></span> | <span data-ttu-id="b2ae6-132">Hálózati kamera</span><span class="sxs-lookup"><span data-stu-id="b2ae6-132">Network camera</span></span> | <span data-ttu-id="b2ae6-133">A képek deduktálása érdekében szükség van egy HTTP- vagy RTSP-hírcsatornával is elérhető hálózati kamerára.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-133">A network camera is required, with either an HTTP or RTSP feed to provide the images for inference.</span></span> |
| <span data-ttu-id="b2ae6-134">Azure</span><span class="sxs-lookup"><span data-stu-id="b2ae6-134">Azure</span></span> | <span data-ttu-id="b2ae6-135">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="b2ae6-135">Azure IoT Hub</span></span> | <span data-ttu-id="b2ae6-136">[Azure IoT Hub](/azure/iot-hub/) a peremeszközök kiépítését és üzenetkezelését kezeli.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-136">[Azure IoT Hub](/azure/iot-hub/) handles device provisioning and messaging for the edge devices.</span></span> |
|  | <span data-ttu-id="b2ae6-137">Azure Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="b2ae6-137">Azure Time Series Insights</span></span> | <span data-ttu-id="b2ae6-138">[Azure Time Series Insights](/azure/time-series-insights/) a vizualizációhoz IoT Hub üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-138">[Azure Time Series Insights](/azure/time-series-insights/) stores the messages from IoT Hub for visualization.</span></span> |
|  | <span data-ttu-id="b2ae6-139">Power BI</span><span class="sxs-lookup"><span data-stu-id="b2ae6-139">Power BI</span></span> | <span data-ttu-id="b2ae6-140">[A Microsoft Power BI](https://powerbi.microsoft.com/) üzleti központú jelentéseket biztosít a készleten lévő eseményekről.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-140">[Microsoft Power BI](https://powerbi.microsoft.com/) provides business-focused reports of out of stock events.</span></span> <span data-ttu-id="b2ae6-141">Power BI egy könnyen használható irányítópult-felületet biztosít a jelentések kimenetének Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-141">Power BI provides an easy-to-use dashboard interface for viewing the output from Azure Stream Analytics.</span></span> |
| <span data-ttu-id="b2ae6-142">Azure Stack Edge vagy</span><span class="sxs-lookup"><span data-stu-id="b2ae6-142">Azure Stack Edge or</span></span><br><span data-ttu-id="b2ae6-143">Azure IoT Edge eszköz</span><span class="sxs-lookup"><span data-stu-id="b2ae6-143">Azure IoT Edge device</span></span> | <span data-ttu-id="b2ae6-144">Azure IoT Edge</span><span class="sxs-lookup"><span data-stu-id="b2ae6-144">Azure IoT Edge</span></span> | <span data-ttu-id="b2ae6-145">[Azure IoT Edge](/azure/iot-edge/) a helyszíni tárolók futtatáskörnyezetét, és kezeli az eszközkezelést és a frissítéseket.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-145">[Azure IoT Edge](/azure/iot-edge/) orchestrates the runtime for the on-premises containers and handles device management and updates.</span></span>|
| | <span data-ttu-id="b2ae6-146">Azure Project Brainwave</span><span class="sxs-lookup"><span data-stu-id="b2ae6-146">Azure project brainwave</span></span> | <span data-ttu-id="b2ae6-147">Egy virtuális Azure Stack Edge a [Project Brainwave](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) Field-Programmable kaputömbök (FPGA-k) használatával felgyorsítja az ML-következtetést.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-147">On an Azure Stack Edge device, [Project Brainwave](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) uses Field-Programmable Gate Arrays (FPGAs) to accelerate ML inferencing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="b2ae6-148">Problémák és megfontolandó szempontok</span><span class="sxs-lookup"><span data-stu-id="b2ae6-148">Issues and considerations</span></span>

<span data-ttu-id="b2ae6-149">A megoldás megvalósításakor vegye figyelembe a következő pontokat:</span><span class="sxs-lookup"><span data-stu-id="b2ae6-149">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="b2ae6-150">Méretezhetőség</span><span class="sxs-lookup"><span data-stu-id="b2ae6-150">Scalability</span></span>

<span data-ttu-id="b2ae6-151">A legtöbb gépi tanulási modell a megadott hardvertől függően csak bizonyos számú képkockát képes futtatni másodpercenként.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-151">Most machine learning models can only run at a certain number of frames per second, depending on the provided hardware.</span></span> <span data-ttu-id="b2ae6-152">Határozza meg a kamera(k) optimális mintaarányát annak érdekében, hogy a gépi tanulási folyamat ne legyen biztonságimentve.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-152">Determine the optimal sample rate from your camera(s) to ensure that the ML pipeline doesn't back up.</span></span> <span data-ttu-id="b2ae6-153">A különböző hardvertípusok különböző számú kamerát és képkocka-számot kezelnek.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-153">Different types of hardware will handle different numbers of cameras and frame rates.</span></span>

### <a name="availability"></a><span data-ttu-id="b2ae6-154">Rendelkezésre állás</span><span class="sxs-lookup"><span data-stu-id="b2ae6-154">Availability</span></span>

<span data-ttu-id="b2ae6-155">Fontos megfontolni, hogy mi történhet, ha a peremeszköz kapcsolata megszakad.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-155">It's important to consider what might happen if the edge device loses connectivity.</span></span> <span data-ttu-id="b2ae6-156">Gondolja át, hogy milyen adatok elvesznek a Time Series Insights és Power BI irányítópultról.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-156">Consider what data might be lost from the Time Series Insights and Power BI dashboard.</span></span> <span data-ttu-id="b2ae6-157">A megadott példamegoldás nem magas rendelkezésre áll rendelkezésre áll.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-157">The example solution as provided isn't designed to be highly available.</span></span>

### <a name="manageability"></a><span data-ttu-id="b2ae6-158">Kezelhetőség</span><span class="sxs-lookup"><span data-stu-id="b2ae6-158">Manageability</span></span>

<span data-ttu-id="b2ae6-159">Ez a megoldás több eszközre és helyre is kihathat, ami problémás lehet.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-159">This solution can span many devices and locations, which could get unwieldy.</span></span> <span data-ttu-id="b2ae6-160">Az Azure IoT-szolgáltatásai automatikusan online állapotba hozzák az új helyeket és eszközöket, és naprakészen tartják őket.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-160">Azure's IoT services can automatically bring new locations and devices online and keep them up to date.</span></span> <span data-ttu-id="b2ae6-161">A megfelelő adatirányítási eljárásokat is követni kell.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-161">Proper data governance procedures must be followed as well.</span></span>

### <a name="security"></a><span data-ttu-id="b2ae6-162">Biztonság</span><span class="sxs-lookup"><span data-stu-id="b2ae6-162">Security</span></span>

<span data-ttu-id="b2ae6-163">Ez a minta bizalmas adatokat kezel.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-163">This pattern handles potentially sensitive data.</span></span> <span data-ttu-id="b2ae6-164">Ellenőrizze, hogy a kulcsok rendszeresen le vannak-e állítva, és hogy az Azure Storage-fiók és a helyi megosztások engedélyei megfelelően vannak-e beállítva.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-164">Make sure keys are regularly rotated and the permissions on the Azure Storage Account and local shares are correctly set.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b2ae6-165">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="b2ae6-165">Next steps</span></span>

<span data-ttu-id="b2ae6-166">További információ a cikkben bemutatott témakörökről:</span><span class="sxs-lookup"><span data-stu-id="b2ae6-166">To learn more about topics introduced in this article:</span></span>
- <span data-ttu-id="b2ae6-167">Ebben a mintában több IoT-hez kapcsolódó szolgáltatás is használatos, beleértve a [Azure IoT Edge](/azure/iot-edge/), [Azure IoT Hub](/azure/iot-hub/)és [Azure Time Series Insights.](/azure/time-series-insights/)</span><span class="sxs-lookup"><span data-stu-id="b2ae6-167">Multiple IoT related services are used in this pattern, including [Azure IoT Edge](/azure/iot-edge/), [Azure IoT Hub](/azure/iot-hub/), and [Azure Time Series Insights](/azure/time-series-insights/).</span></span>
- <span data-ttu-id="b2ae6-168">A Microsoft Project Brainwave projekttel kapcsolatos további információkért tekintse meg a [blog](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) bejelentését, és tekintse meg az [Azure Accelerated Machine Learning project brainwave videóját.](https://www.youtube.com/watch?v=DJfMobMjCX0)</span><span class="sxs-lookup"><span data-stu-id="b2ae6-168">To learn more about Microsoft Project Brainwave, see [the blog announcement](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) and checkout out the [Azure Accelerated Machine Learning with Project Brainwave video](https://www.youtube.com/watch?v=DJfMobMjCX0).</span></span>
- <span data-ttu-id="b2ae6-169">Az [ajánlott eljárásokról](overview-app-design-considerations.md) és a további kérdésekre adott válaszokért lásd: Hibridalkalmazás-kialakítási szempontok.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-169">See [Hybrid app design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to any additional questions.</span></span>
- <span data-ttu-id="b2ae6-170">A Azure Stack [termékek](/azure-stack) és megoldások teljes portfólióját további információért tekintse meg a termék- és megoldás-családról.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-170">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="b2ae6-171">Ha készen áll a megoldási példa tesztelésére, folytassa az [Edge ML-következtetési](https://aka.ms/edgeinferencingdeploy)megoldás üzembe helyezési útmutatóját.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-171">When you're ready to test the solution example, continue with the [Edge ML inferencing solution deployment guide](https://aka.ms/edgeinferencingdeploy).</span></span> <span data-ttu-id="b2ae6-172">Az üzembe helyezési útmutató lépésenként útmutatást nyújt az összetevőinek üzembe helyezéséhez és teszteléséhez.</span><span class="sxs-lookup"><span data-stu-id="b2ae6-172">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
